{"remainingRequest":"/Users/bennettbierman/Desktop/vue-practice/twotter/twotter/node_modules/babel-loader/lib/index.js!/Users/bennettbierman/Desktop/vue-practice/twotter/twotter/node_modules/eslint-loader/index.js??ref--13-0!/Users/bennettbierman/Desktop/vue-practice/twotter/twotter/src/router/index.js","dependencies":[{"path":"/Users/bennettbierman/Desktop/vue-practice/twotter/twotter/src/router/index.js","mtime":1607115609596},{"path":"/Users/bennettbierman/Desktop/vue-practice/twotter/twotter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bennettbierman/Desktop/vue-practice/twotter/twotter/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/bennettbierman/Desktop/vue-practice/twotter/twotter/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9iZW5uZXR0Ymllcm1hbi9EZXNrdG9wL3Z1ZS1wcmFjdGljZS90d290dGVyL3R3b3R0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVdlYkhpc3RvcnkgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgVXNlclByb2ZpbGUgZnJvbSAnLi4vdmlld3MvVXNlclByb2ZpbGUnOwppbXBvcnQgQWRtaW4gZnJvbSAnLi4vdmlld3MvQWRtaW4nOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwppbXBvcnQgeyB1c2VycyB9IGZyb20gJy4uL2Fzc2V0cy91c2Vycyc7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAnL3VzZXIvOnVzZXJJZCcsCiAgbmFtZTogJ1VzZXJQcm9maWxlJywKICBjb21wb25lbnQ6IFVzZXJQcm9maWxlLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQWRtaW46IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2FkbWluJywKICBuYW1lOiAnQWRtaW4nLAogIGNvbXBvbmVudDogQWRtaW4KfV07CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHJvdXRlcwp9KTsgLy9UaGlzIGlzIHRoZSByb3V0ZSBndWFyZCB0byBtYWtlIHN1cmUgcGVvcGxlIGRvbnQgZ28gdG8gcGFnZXMgdGhleSBhcmVuJ3Qgc3VwcG9zZSB0byBiZSBvbgoKcm91dGVyLmJlZm9yZUVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciB1c2VyLCBpc0FkbWluLCByZXF1aXJlc0FkbWluOwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB1c2VyID0gc3RvcmUuc3RhdGUudXNlcjsKCiAgICAgICAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInLCB1c2Vyc1swXSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBpc0FkbWluID0gdHJ1ZTsKICAgICAgICAgICAgcmVxdWlyZXNBZG1pbiA9IHRvLm1hdGNoZWQuc29tZShmdW5jdGlvbiAocmVjb3JkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzQWRtaW47CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgaWYgKHJlcXVpcmVzQWRtaW4gJiYgIWlzQWRtaW4pIHsKICAgICAgICAgICAgICBuZXh0KHsKICAgICAgICAgICAgICAgIG5hbWU6ICdIb21lJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["/Users/bennettbierman/Desktop/vue-practice/twotter/twotter/src/router/index.js"],"names":["createRouter","createWebHistory","Home","UserProfile","Admin","store","users","routes","path","name","component","meta","requiresAdmin","router","history","beforeEach","to","from","next","user","state","dispatch","isAdmin","matched","some","record"],"mappings":";;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAER;AAHb,CADa,EAMb;AACEM,EAAAA,IAAI,EAAE,eADR;AAEEC,EAAAA,IAAI,EAAE,aAFR;AAGEC,EAAAA,SAAS,EAAEP,WAHb;AAIEQ,EAAAA,IAAI,EAAE;AACJC,IAAAA,aAAa,EAAE;AADX;AAJR,CANa,EAcb;AACEJ,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEN;AAHb,CAda,CAAf;AAsBA,IAAMS,MAAM,GAAGb,YAAY,CAAC;AAC1Bc,EAAAA,OAAO,EAAEb,gBAAgB,EADC;AAE1BM,EAAAA,MAAM,EAAEA;AAFkB,CAAD,CAA3B,C,CAKA;;AACAM,MAAM,CAACE,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEVC,YAAAA,IAFU,GAEHd,KAAK,CAACe,KAAN,CAAYD,IAFT;;AAAA,gBAIXA,IAJW;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAKRd,KAAK,CAACgB,QAAN,CAAe,SAAf,EAA0Bf,KAAK,CAAC,CAAD,CAA/B,CALQ;;AAAA;AAQVgB,YAAAA,OARU,GAQA,IARA;AASVV,YAAAA,aATU,GASMI,EAAE,CAACO,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAACd,IAAP,CAAYC,aAAhB;AAAA,aAAtB,CATN;;AAWhB,gBAAIA,aAAa,IAAI,CAACU,OAAtB,EAA+B;AAC7BJ,cAAAA,IAAI,CAAC;AAAET,gBAAAA,IAAI,EAAE;AAAR,eAAD,CAAJ;AACD,aAFD,MAGK;AACHS,cAAAA,IAAI;AACL;;AAhBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAmBA,eAAeL,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\nimport UserProfile from '../views/UserProfile';\nimport Admin from '../views/Admin';\nimport store from '../store';\nimport { users } from '../assets/users';\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/user/:userId',\n    name: 'UserProfile',\n    component: UserProfile,\n    meta: {\n      requiresAdmin: true\n    }\n  },\n  {\n    path: '/admin',\n    name: 'Admin',\n    component: Admin\n\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n})\n\n//This is the route guard to make sure people dont go to pages they aren't suppose to be on\nrouter.beforeEach(async (to, from, next) => { \n\n  const user = store.state.user;\n\n  if (!user) { \n    await store.dispatch('setUser', users[0]);\n  }\n\n  const isAdmin = true;\n  const requiresAdmin = to.matched.some(record => record.meta.requiresAdmin);\n\n  if (requiresAdmin && !isAdmin) {\n    next({ name: 'Home' });\n  }\n  else { \n    next();\n  }\n})\n\nexport default router\n"]}]}